OOF.Microstructure.Create_From_ImageFile(filename='examples/small.ppm', microstructure_name='small.ppm', height=automatic, width=automatic)
OOF.Image.AutoGroup(image='small.ppm:small.ppm', name_template='%c')
OOF.Skeleton.New(name='bones', microstructure='small.ppm', x_elements=4, y_elements=4, skeleton_geometry=QuadSkeleton(left_right_periodicity=False,top_bottom_periodicity=False))
OOF.Windows.Graphics.New()
OOF.Skeleton.Modify(skeleton='small.ppm:bones', modifier=Refine(targets=CheckHomogeneity(threshold=1),criterion=Unconditionally(),degree=Trisection(rule_set='conservative'),alpha=0.5))
OOF.Skeleton.Undo(skeleton='small.ppm:bones')
OOF.Skeleton.Redo(skeleton='small.ppm:bones')
OOF.Skeleton.Modify(skeleton='small.ppm:bones', modifier=Refine(targets=CheckHomogeneity(threshold=0.90000000000000002),criterion=Unconditionally(),degree=Trisection(rule_set='conservative'),alpha=0.5))
OOF.Skeleton.Modify(skeleton='small.ppm:bones', modifier=SnapNodes(targets=SnapHeterogenous(threshold=0.90000000000000002),criterion=AverageEnergy(alpha=1)))
OOF.Skeleton.Modify(skeleton='small.ppm:bones', modifier=Rationalize(targets=AllElements(),criterion=AverageEnergy(alpha=0.80000000000000004),method=SpecificRationalization(rationalizers=[RemoveShortSide(ratio=5.0), QuadSplit(angle=150), RemoveBadTriangle(acute_angle=15,obtuse_angle=150)])))
OOF.ElementSelection.Select_by_Homogeneity(skeleton='small.ppm:bones', threshold=0.90000000000000002)
OOF.ElementSelection.Select_by_Homogeneity(skeleton='small.ppm:bones', threshold=0.90000000000000002)
OOF.Skeleton.Modify(skeleton='small.ppm:bones', modifier=SplitQuads(targets=SelectedElements(),criterion=AverageEnergy(alpha=0.90000000000000002),split_how=GeographicQ2T()))
OOF.Skeleton.Modify(skeleton='small.ppm:bones', modifier=Rationalize(targets=AllElements(),criterion=AverageEnergy(alpha=0.80000000000000004),method=SpecificRationalization(rationalizers=[RemoveShortSide(ratio=5.0), QuadSplit(angle=150), RemoveBadTriangle(acute_angle=15,obtuse_angle=150)])))
OOF.ElementSelection.Select_by_Homogeneity(skeleton='small.ppm:bones', threshold=0.90000000000000002)
OOF.Skeleton.Modify(skeleton='small.ppm:bones', modifier=Anneal(targets=AllNodes(),criterion=AverageEnergy(alpha=0.90000000000000002),T=0.0,delta=1.0,iteration=FixedIteration(iterations=10)))
OOF.Skeleton.Undo(skeleton='small.ppm:bones')
OOF.Skeleton.Modify(skeleton='small.ppm:bones', modifier=Anneal(targets=FiddleSelectedElements(),criterion=AverageEnergy(alpha=0.90000000000000002),T=0.0,delta=1.0,iteration=FixedIteration(iterations=10)))
OOF.Skeleton.Modify(skeleton='small.ppm:bones', modifier=Rationalize(targets=AllElements(),criterion=AverageEnergy(alpha=0.80000000000000004),method=SpecificRationalization(rationalizers=[RemoveShortSide(ratio=5.0), QuadSplit(angle=150), RemoveBadTriangle(acute_angle=15,obtuse_angle=150)])))
OOF.ElementSelection.Select_by_Homogeneity(skeleton='small.ppm:bones', threshold=0.90000000000000002)
OOF.Skeleton.Modify(skeleton='small.ppm:bones', modifier=Anneal(targets=FiddleSelectedElements(),criterion=AverageEnergy(alpha=0.90000000000000002),T=0.0,delta=1.0,iteration=FixedIteration(iterations=10)))
OOF.Skeleton.Modify(skeleton='small.ppm:bones', modifier=Rationalize(targets=AllElements(),criterion=AverageEnergy(alpha=0.80000000000000004),method=SpecificRationalization(rationalizers=[RemoveShortSide(ratio=5.0), QuadSplit(angle=150), RemoveBadTriangle(acute_angle=15,obtuse_angle=150)])))
OOF.ElementSelection.Select_by_Homogeneity(skeleton='small.ppm:bones', threshold=0.90000000000000002)
OOF.ElementSelection.Select_by_Homogeneity(skeleton='small.ppm:bones', threshold=0.80000000000000004)
OOF.Skeleton.PinNodes.Pin_Internal_Boundary_Nodes(skeleton='small.ppm:bones')
OOF.Skeleton.Modify(skeleton='small.ppm:bones', modifier=SwapEdges(targets=AllElements(),criterion=AverageEnergy(alpha=0.5)))
OOF.Skeleton.Undo(skeleton='small.ppm:bones')
OOF.Skeleton.Redo(skeleton='small.ppm:bones')
OOF.Skeleton.Modify(skeleton='small.ppm:bones', modifier=Rationalize(targets=AllElements(),criterion=AverageEnergy(alpha=0.80000000000000004),method=SpecificRationalization(rationalizers=[RemoveShortSide(ratio=5.0), QuadSplit(angle=150), RemoveBadTriangle(acute_angle=15,obtuse_angle=150)])))
OOF.Skeleton.Modify(skeleton='small.ppm:bones', modifier=MergeTriangles(targets=AllElements(),criterion=LimitedUnconditional(alpha=0.5,homogeneity=0.90000000000000002,shape_energy=0.40000000000000002)))
OOF.Skeleton.Undo(skeleton='small.ppm:bones')
OOF.Skeleton.Redo(skeleton='small.ppm:bones')
OOF.Skeleton.Modify(skeleton='small.ppm:bones', modifier=Smooth(targets=AllNodes(),criterion=LimitedUnconditional(alpha=0.5,homogeneity=0.90000000000000002,shape_energy=0.40000000000000002),T=0.0,iteration=FixedIteration(iterations=10)))
OOF.File.Save.Skeleton(filename='skeleton.dat', mode='w', format='ascii', skeleton='small.ppm:bones')
